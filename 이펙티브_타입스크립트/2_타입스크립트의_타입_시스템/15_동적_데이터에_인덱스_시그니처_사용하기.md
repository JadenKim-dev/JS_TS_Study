# 15. 동적 데이터에 인덱스 시그니처 사용하기

타입스크립트의 인덱스 시그니처는 데이터의 매핑을 유연하게 표현할 수 있게 해준다.  
예를 들어 모든 키가 문자열로 구성된 객체의 타입을 다음과 같이 표현할 수 있다.

```ts
type Rocket = {[property: string]: string};
```

다만 이 경우 Rocket 타입에 대해서는 타입 체크의 도움을 크게 받을 수 없다.  
Rocket에는 어떤 키든 할당할 수 있고, 특정 키가 필요하다는 제약 사항도 없다.  
만약 일반적인 정적 타입을 정의한다면 모든 키 타입을 명시해서 지정하는 게 좋다.

```ts
interface Rocket {
  name: string;
  variant: string;
  thrust_kN: number;
}
```

인덱스 시그니처는 동적인 데이터를 표현할 때에만 사용해야 한다.  
예를 들어 csv 파일 내용을 받아서, 객체의 배열로 파싱하여 반환하는 메서드를 구현한다고 하자.  
이 때 다양한 데이터 형태의 csv 파일을 변환할 수 있게 하기 위해서는 인덱스 시그니처를 이용해 반환 타입을 표현해야 한다.

```ts
type parseCSV = (input: string) => {[columnName: string]: string}[]:
```

이렇게 정의한 함수를 이용해 특정 데이터 타입으로 파싱한 결과를 얻는다면, 타입 단언을 통해 해당 타입으로 결과를 반환 받을 수 있다.  
다만 런타임 타입에 대한 체크는 별도로 필요하다.

```ts
interface ProductRow {
  productId: string;
  name: string;
  price: string;
}

const products = parseCSV(csvData) as unknown as ProductRow[];
```








